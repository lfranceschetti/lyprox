{% extends "base.html" %}

{% block content %}

{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'patients/detail.css' %}">

<div class="patient-header">
    <ul>
        <li>Patient {{ patient.pk }}</li>
        <li>Hash-ID: {{ patient.identifier }} </li>
    </ul>
</div>

<div class="patient-info">
    <ul>
        <li>date of diagnosis: {{ patient.diagnose_date }} </li>
        <li>age: {{ patient.age }} </li>
        <li>gender: {{ patient.gender }} </li>
        <li>alcohol abuse: {{ patient.alcohol_abuse }} </li>
        <li>nicotine abuse: {{ patient.nicotine_abuse }} </li>
        <li>HPV status: {{ patient.hpv_status }} </li>
    </ul>
</div>

<div class="tumors">
    {% for tumor in patient.tumor_set.all %}
    <div>
        <p>Tumor {{ forloop.counter }} ({{ tumor.get_stage_prefix_display }}{{ tumor.get_t_stage_display }}) </p>
        <p>location: {{ tumor.get_location_display }} </p>
        <p>position: {{ tumor.get_position_display }} </p>
        <p>extension: {{ tumor.extension }} </p>
        <p>size: {{ tumor.size}} </p>
    </div>
    {% endfor %}

    <div>
        <p>Add tumor</p>
        {% block add_tumor %}
        {% endblock add_tumor %}
    </div>
</div>

<div class="diagnoses">
    <h3>lymph node level involvement</h3>
    <table>
        <tr>
            <th>modality</th>
            <th>I</th>
            <th>II</th>
            <th>III</th>
            <th>IV</th>
        </tr>
        {% for diagnose in patient.diagnose_set.all %}

        <tr>
            <td>{{ diagnose.get_modality_display }} </td>
            <td>{{ diagnose.lnl_I }} </td>
            <td>{{ diagnose.lnl_II }}</td>
            <td>{{ diagnose.lnl_III }}</td>
            <td>{{ diagnose.lnl_IV }}</td>
        </tr>

        {% endfor %}
    </table>

    <div>
        {% block add_diagnose %}
        {% endblock add_diagnose %}
    </div>
</div>
    
{% endblock content %}